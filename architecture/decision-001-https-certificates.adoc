:ARC-ID: 001
:ARC-TITLE: HTTPS Certificates Required for VS Code Server
:ARC-TOPIC: security
:ARC-STATUS: accepted

[#ARCID-{arc-id}]
= {arc-id} - {arc-topic} - {arc-title}
This decision is part of the {arc-topic} architecture.

== Context

VS Code Server requires HTTPS for WebSocket connections, service workers, secure browser APIs. Self-signed certificates create browser warnings and poor UX in mobile environments.

== Problem Statement / Motivation

VS Code Server cannot operate with full functionality over HTTP. Browser security restrictions block modern web features. Self-signed certificates require manual acceptance on each device - problematic for changing network environments.

== Alternatives Considered

=== Self-Signed Certificates

.Pro
* No external dependencies
* Quick generation
* Full local control

.Con
* Browser security warnings
* Manual acceptance required
* Poor UX in mobile environments
* No trust chain validation

=== Let's Encrypt with DNS Challenge

.Pro
* Trusted CA
* No browser warnings
* Automated renewal
* Works with private networks
* Professional UX

.Con
* Requires domain ownership
* DNS API access needed
* External dependency

== Decision Outcome

Use Let's Encrypt certificates with Cloudflare DNS challenge for all HTTPS services.

=== Justification

Professional secure access requires trusted certificates. DNS challenge enables valid certificates for internal services, eliminating UX issues while maintaining security.

=== Consequences

* Cloudflare API access required
* Domain ownership necessary
* Forward proxy needed for external access
* Automated renewal reduces maintenance
* Enhanced security posture

=== Derived / Related Decisions

* Forward tunneling proxy (<<ARCID-002>>)
* DNS infrastructure (<<ARCID-003>>)
* Cloudflare DNS provider (<<ARCID-006>>)
* Test container compatibility (<<ARCID-008>>)
* MQTT optical data network (<<ARCID-010>>)
